<div class="card">
    <div class="card-content">

        <span class="card-title grey-text text-darken-4">Filter rules</span>

        <div class="grey-text text-darken-4">

            <div class="row">
                <div class="col s8 valign-wrapper" style="min-height:76px;">
                    <p class="valign">How many upvotes should a thread have?</p>

                </div>
                <div class="col s4">
                    <div class="input-field">
                        <input id="upvotesCount" type="number"
                               min="0" max="50000"
                               value="digest.filterRules.upvotesCount"
                               ng-model="digest.filterRules.upvotesCount"
                                >
                        <label ng-class="{active: digest.filterRules.upvotesCount !== ''}"
                               for="upvotesCount">Amount</label>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col s8 valign-wrapper" style="min-height:76px;">
                    <p class="valign">How many subscribers should the subreddit of a thread have?</p>

                </div>
                <div class="col s4">
                    <div class="input-field">
                        <input id="subscriberCount" type="number"
                               min="0" max="30000000"
                               value="digest.filterRules.subscriberCount"
                               ng-model="digest.filterRules.subscriberCount"
                                >
                        <label ng-class="{active: digest.filterRules.subscriberCount !== ''}"
                               for="upvotesCount">Amount</label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s8 valign-wrapper" style="min-height:40px;">
                    <p class="valign tooltipped hasTooltip" data-position="top" data-delay="50" data-tooltip="Two threads linking to the same thing">What to do with duplicates?</p>

                </div>
                <div class="col s4">
                    <div class="switch">
                        <label>
                            Nothing
                            <input type="checkbox" ng-model="digest.filterRules.duplicates.filter" ng-change="!digest.filterRules.duplicates.filter ? digest.filterRules.duplicates.merge = false : ''">
                            <span class="lever"></span>
                            Filter
                        </label>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col s8 valign-wrapper" style="min-height:40px;">
                    <p class="valign" ng-class="{'grey-text': !digest.filterRules.duplicates.filter}">Should a filtered duplicate be merged with the original?</p>

                </div>
                <div class="col s4">
                    <div class="switch">
                        <label>
                            Nothing
                            <input id="mergeSwitch" type="checkbox" ng-model="digest.filterRules.duplicates.merge"
                                   ng-disabled="!digest.filterRules.duplicates.filter">
                            <span class="lever"></span>
                            Merge
                        </label>
                    </div>
                </div>
            </div>

        </div>

        <br/>
    </div>

    <div class="card-action">
        <a class="btn-flat blue-text" ng-class="{'blue-text waves-effect': filtersCanContinue(), 'disabled grey-text': !filtersCanContinue() }" ng-click="filtersContinue()">Continue</a>
        <a class="btn-flat grey-text darken-2 waves-effect" ui-sref="collector-form.searchParameters">Back</a>
    </div>
</div>

<script>

        $('.tooltipped').tooltip({delay: 50});
</script>
